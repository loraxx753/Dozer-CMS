// Generated by CoffeeScript 1.6.2
(function() {
  $(".bootswatch a").click(function(e) {
    var $currentActive, broken, current_css, folder, newHref, oldHref;

    e.preventDefault();
    folder = $(this).data("name");
    $currentActive = $(".bootswatch .active");
    $currentActive.removeClass("active").children("a").html($currentActive.children("a").text());
    $(this).parent().addClass("active").children("a").html("<strong>" + $(".bootswatch .active").text() + "</strong>");
    current_css = $(this).text().toLowerCase();
    console.log(folder);
    if (folder !== "reset") {
      oldHref = $(".bootstrap").attr("href");
      broken = oldHref.split("css");
      newHref = broken[0] + "css/bootswatch/" + folder + "/bootstrap.min.css";
      $(".bootstrap").attr("href", newHref);
      return $(".custom_css").attr("disabled", true);
    } else {
      $(".bootstrap").attr("href", "/assets/css/bootstrap.css");
      return $(".custom_css").removeAttr("disabled");
    }
  });

  $("#save-css").click(function(e) {
    var folder;

    e.preventDefault();
    folder = $(".bootswatch .active").children("a").data("name");
    return $.post("admin/update/css", {
      "name": folder
    }, function(data) {
      return alert("updated");
    });
  });

}).call(this);
